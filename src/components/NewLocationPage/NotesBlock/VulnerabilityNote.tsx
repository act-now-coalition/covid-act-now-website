import React from 'react';
import NotesBlock from './NotesBlock';
import VulnerabilityIcon from 'assets/images/VulnerabilityIcon';
import { hasVeryHighVulnerability } from './utils';
import { EventCategory } from 'components/Analytics';
import { useScrollToElement } from 'common/hooks';

const title = 'Vulnerability is very high';
const body =
  'New York City metro is more likely to experience severe physical and economic suffering from COVID, and to face harder, longer recovery.';

const VulnerabilityNote: React.FC<{ ccviScore: number | null }> = ({
  ccviScore,
}) => {
  const veryHighVulnerability =
    ccviScore && hasVeryHighVulnerability(ccviScore);

  useScrollToElement();

  if (!veryHighVulnerability) {
    return null;
  }

  return (
    <NotesBlock
      icon={<VulnerabilityIcon />}
      title={title}
      to="#vulnerabilities"
      trackingCategory={EventCategory.VULNERABILITIES}
    >
      {body}
    </NotesBlock>
  );
};

export default VulnerabilityNote;
